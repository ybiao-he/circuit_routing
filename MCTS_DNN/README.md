# DNN-MCTS for circuit routing

This is the code for Circuit Routing Using Monte Carlo Tree Search and Deep Learning. It is for running on a single board, which is defined in the file of "paras.txt".

## Requirements

* Python3
* Numpy
* Matplotlib
* Keras

## Running

To run the code, two files are needed: pretrained DNN model (`actor.h5`); test board (`testboard.csv`)

Then write all the parameters in the file [paras.txt](paras.txt) and run by:

```
python3 main.py paras.txt
```

Note that if new dnn model and test board needed, then,

1. pretrained DNN model can be obtained from folder `Policy_Pretrain`: first run `python3 GenDataMaze.py path_to_boards` to generate training data, where `path_to_board` is the local path of used boards that can be found [here](https://drive.google.com/drive/folders/1Yb4cVbGWhREXyFVrOLah1KCpkjdvDOEL?usp=sharing), please download and save them locally,
then run `python3 policy_pretrain.py training_data`, where `training_data` is the path of training data generated by the fist step.

2. test board should have same format with file `testboard.csv`


To run a server version for multiple tests, first run `python3 paras.py` for para setting files, then run `bash testrun.sh` to run multiple python files. You might need to revise `testrun.sh` to set path and number of tests.
